{% extends 'baseBackthe.html.twig' %}

{% block title %}Evenement{% endblock %}

{% block container %}
    <h1>Create new Evenement</h1>





    {{ form_start(form,{'attr':{'novalidate': 'novalidate'}}) }}
    <!--row-->








        <link rel="stylesheet" href="{{ asset("back/js/datepicker.css") }}" >

        <script src="{{ asset("back/js/datepicker.js") }}"></script>
        <script>
            jQuery(document).ready(function() {
                $('#datetimepicker').datepicker();
            });
        </script>


        <div class="row">

            <div class="col">
                <fieldset >



                    <div class="form-group">
                        {{ form_label(form.type,"Type") }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(form.type, {'attr':{'class':'form-control '}}) }}
                        {{ form_errors (form.type) }}

                    </div>
                    <div class="form-group">
                        {{ form_label(form.titre,"Titre") }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(form.titre, {'attr':{'class':'form-control '}}) }}
                        {{ form_errors (form.titre) }}

                    </div>
                    <div  class="form-group">
                        {{ form_label(form.lieu,"lieu") }}
                    </div>
                    <div id = "lieudiv" class="form-group">
                        {{ form_widget(form.lieu, {'attr':{'class':'form-control'}}) }}
                        {{ form_errors (form.lieu) }}

                    </div>
                    <div class="form-group ">
                        {{ form_label(form.dateEvent , 'Date Event') }}
                        <div class="row m-2">
                            {{form_widget(form.dateEvent , {'attr':{'class':'form-control'},'id':'datetimepicker'  }) }}
                            {{ form_errors (form.dateEvent) }}

                        </div>

                    </div>

                    <div class="form-group">
                        {{ form_label(form.image,"Image") }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(form.image, {'attr':{'class':'form-control'}}) }}
                        {{ form_errors (form.image) }}

                    </div>
                </fieldset> </div>

            <div class="col">
                <fieldset >

                    <div class="form-group">
                        {{ form_label(form.description,"Description ") }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(form.description, {'attr':{'class':'form-control '}}) }}
                        {{ form_errors (form.description) }}

                    </div>


                    <div class="form-group">
                        {{ form_label(form.tarif,"Tarif") }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(form.tarif, {'attr':{'class':'form-control '}}) }}
                        {{ form_errors (form.tarif) }}

                    </div>
                    <div class="form-group">
                        {{ form_label(form.capacite,"capacite") }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(form.capacite, {'attr':{'class':'form-control '}}) }}
                        {{ form_errors (form.capacite) }}

                    </div>

                    <button class="btn btn-success">{{ button_label|default('Save') }}</button>

                </fieldset>

            </div>
            {{ form_end(form) }}

        </div>
    {{ form_end(form) }}






    <a href="{{ path('evenement_index') }}">back to list</a>
    <link rel='stylesheet' type='text/css' href='https://api.tomtom.com/maps-sdk-for-web/cdn/plugins/SearchBox/3.1.3-public-preview.0/SearchBox.css'/>
    <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.1.2-public-preview.15/services/services-web.min.js"></script>
    <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/plugins/SearchBox/3.1.3-public-preview.0/SearchBox-web.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&key=0MWBNiAVRIke92CSc6vjYjseKJUmQSLy"></script>
    <script src="{{asset('js/jquery-steps.min.js')}}"></script>
    <script>
        var options = {
            searchOptions: {
                key: 'YFAcS4Pli7jA0Q0ghDSA6kzPGJqhVqt1',
                language: 'en-GB',
                limit: 5
            },
            autocompleteOptions: {
                key: 'YFAcS4Pli7jA0Q0ghDSA6kzPGJqhVqt1',
                language: 'en-GB'
            }
        };

        var ttSearchBox = new tt.plugins.SearchBox(tt.services, options);
        var searchBoxHTML = ttSearchBox.getSearchBoxHTML();

        document.getElementById("lieudiv").append(searchBoxHTML);
        ttSearchBox.on('tomtom.searchbox.resultselected', function(data) {

            document.getElementById('lieu').value=data['data']['text'];
            console.log(document.getElementById('lieu').value);


        });














    </script>


{% endblock %}

